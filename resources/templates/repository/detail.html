<rt:extends href="../index.html" />
<rt:block name="teaser"></rt:block>

<rt:block name="title">{$path} - _('repository browser') - openpear</rt:block>
<rt:block name="adHeader">
<link href="http://media.riaf.org/google-code-prettify/src/prettify.css" rel="stylesheet" type="text/css" />
<script src="http://media.riaf.org/google-code-prettify/src/prettify.js" type="text/javascript"></script>
</rt:block>
<rt:block name="info">実際のリポジトリ上のURL <a href="{$rhaco.constant('SVN_URL')}{$path}">{$rhaco.constant('SVN_URL')}{$path}</a></rt:block>

<rt:block name="contents">
  <h3 class="big">_('repository browser')
    <rt:if param="{$path}">
        : package <a href="{$rhaco.url('package')}/{$of.pp($path)}">{$of.pp($path)}</a>
    </rt:if>
  </h3>
  <dl>
    <dt>_('revision')</dt>
    <dd><a href="{$rhaco.url('changeset')}/{$entry['commit']['revision']}">{$entry['commit']['revision']}</a></dd>
    <dt>_('author')</dt>
    <dd><a href="{$rhaco.url('maintainer')}/{$entry['commit']['author']}">{$entry['commit']['author']}</a></dd>
        <dt>_('path')</dd>
        <dd><a href="{$rhaco.url('repository')}{$of.dn($path)}">{$of.dn($path)}</a></dd>
        <dt>_('last modified')</dt>
        <dd>{$f.dateformat($entry['commit']['date'])}</dd>
  </dl>
  <p class="info">{$f.noop($f.text2html($entry['log']))}</p>

  <rt:if param="{$doc}">
  <h3 class="big">_('document')</h3>
  <div class="document">
    <a name="{$doc.name}"></a>
    <div class="name">
      {$doc.name}
    
      <rt:if param="{$doc.isSubclass()}">
        &lt;{$doc.extends}&gt;
      </rt:ifnot>
    </div>
    <div class="path">({$doc.path})</div>
    <div class="description">
      {$f.text2html($doc.description)}
    </div>

    <div class="funcs">
      <rt:loop param="{$doc.function}" var="func">
        <div class="func">
          <a name="{$doc.name}::{$func.name}"></a>
          <div class="name">{$func.name}</div>
          <div class="description">
            {$f.text2html($func.description)}
          </div>
          
          <div class="onevars">
            <rt:loop param="{$func.vars}" var="var">
              <span class="onevar">{$f.text2html($var)}</span>
            </rt:loop>
          </div>

          <rt:loop param="{$func.tests}" var="test">
          <div class="test">
            {$f.text2html($test)}
          </div>
          </rt:loop>
        </div>
      </rt:loop>
    </div>
  </div>
  </rt:if>

  <rt:if param="{$body}">
  <h3 class="big">_('source')</h3>
    <pre class="prettyprint">
{$body}
    </pre>
    <script type="text/javascript"> prettyPrint(); </script>
  </rt:if>
</rt:block>
